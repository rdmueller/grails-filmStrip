<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Film-Strip Grails Plugin</title>
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Film-Strip Grails Plugin</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#section-introduction-and-goals">1. Introduction and Goals</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_quickstart">1.1. Quickstart</a></li>
<li><a href="#_requirements_overview">1.2. Requirements Overview</a></li>
<li><a href="#_quality_goals">1.3. Quality Goals</a></li>
<li><a href="#_stakeholders">1.4. Stakeholders</a></li>
</ul>
</li>
<li><a href="#section-architecture-constraints">2. Architecture Constraints</a></li>
<li><a href="#section-system-scope-and-context">3. System Scope and Context</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_external_interfaces">3.1. External Interfaces</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">4. Solution Strategy</a></li>
<li><a href="#section-design-decisions">5. Design Decisions</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_data_collection">5.1. Data Collection</a></li>
<li><a href="#_monkey_patching">5.2. Monkey Patching</a></li>
<li><a href="#_fix_for_packages">5.3. Fix for Packages</a></li>
</ul>
</li>
<li><a href="#section-glossary">6. Glossary</a></li>
<li><a href="#bibliography">Appendix A: References</a></li>
<li><a href="#_similiar_projects">Similiar Projects</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_canoo_webtest">canoo WebTest</a></li>
</ul>
</li>
<li><a href="#_example_reports">Appendix B: Example Reports</a></li>
<li><a href="#_contributors">Appendix C: Contributors</a></li>
<li><a href="#_contributing">Contributing</a></li>
<li><a href="#_changelog">Appendix D: Changelog</a></li>
<li><a href="#_open_issues">Open Issues</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
.arc42help {font-size:small; width: 14px; height: 16px; overflow: hidden; position: absolute; right: 0px; padding: 2px 0px 3px 2px;}
.arc42help::before {content: "?";}
.arc42help:hover {width:auto; height: auto; z-index: 100; padding: 10px;}
.arc42help:hover::before {content: "";}
@media print {
	.arc42help {display:hidden;}
}
</style>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/Screenshot.png" alt="Screenshot">
</div>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:20%;">
<col style="width:80%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="https://arc42.github.io/"><img src="./images/arc42-logo.png" alt="arc42"></a></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small">&#169; This document uses material from the <a href="http://arc42.de" target="_blank">arc42 architecture
template</a>, freely available at  <a href="http://github.com/arc42">http://github.com/arc42</a>.</span><br>
<span class="small">arc42 is open source and provided under the Creative Commons Sharealike 4.0 license.
It comes <strong>without any guarantee</strong>. Use on your own risk.
arc42 and its structure by Dr. Peter Hruschka and Dr. Gernot Starke.
Asciidoc version initiated by Markus Sch채rtel and J체rgen Krey,
completed and maintained by Ralf M체ller and Gernot Starke.</span></p></td>
</tr>
</tbody>
</table>

<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
RDM: I used the arc42 template for the documentation of this plugin
since it just helps a lot in writing documentation. It is not a perfect example for
arc42, since the plugin is just a small project and does not need much architecture.
See <a href="http://www.arc42.de">http://www.arc42.de</a> for better examples :-)
</td>
</tr>
</table>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-introduction-and-goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Geb&#8201;&#8212;&#8201;together with Spock&#8201;&#8212;&#8201;is a great combination if you need to create functional tests for your Grails application.
But the output is basically just the information that the tests succeeded&#8201;&#8212;&#8201;at least when there was no failure :-)<br>
Out of the box, it does not report on <strong>what</strong> has been tested. If you want to get details about the tests, you are
expected to read the sources.</p>
</div>
<div class="paragraph">
<p>A not so well known feature of Geb is the <a href="http://www.gebish.org/manual/current/testing.html#reporting"><code>report</code></a> feature:<br>
whenever you use the command <code>report "some text"</code>, geb tries to create a screenshot and save the current DOM as HTML.</p>
</div>
<div class="paragraph">
<p>This plugin crawls through the generated screenshots and creates an HTML report
which displays preview images as a film strip at the top of the report-page and the
test-result on the main part of the window. When you click on an image, it will be displayed
in full size, if you click on the name of a report image, the corresponding HTML
file will be displayed. Without the proper path to referenced files, this view will
look broken, but it is still useful for debugging. When you click on the small star
in front of the name, the link will take you to the recorded original URL of this test&#8201;&#8212;&#8201;so if your project is running, you will be taken to the right page on your web server
and you can manually verify what happened.</p>
</div>
<div class="paragraph">
<p>The aim of this plugin is not only to help a tester in developing Geb/Spock tests
and see what went wrong, but also to create a report for your customer. With all
those screenshots you can easily get an graphical overview of the application and
see if all pages display correctly.</p>
</div>
<div class="sect2">
<h3 id="_quickstart">1.1. Quickstart</h3>
<div class="paragraph">
<p>There is not much to do in order to use the plugin. Just configure it in your <code>BuildConfig.groovy</code></p>
</div>
<div class="literalblock">
<div class="content">
<pre>test ':film-strip:0.1.4'</pre>
</div>
</div>
<div class="paragraph">
<p>and add the folowing line to your gebConfig.groovy:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>reportingListener = new grails.plugin.filmstrip.FilmStripReportingListener()</pre>
</div>
</div>
<div class="paragraph">
<p>If your geb reportDir is the standard one, the report will be generated after running grails test-app.</p>
</div>
<div class="paragraph">
<p>You will find the generated report in <code>target/test-reports/geb</code></p>
</div>
<div class="paragraph">
<p>There is a fork of the Gails-Pet-Clinic sample application on <a href="https://github.com/rdmueller/grails-petclinic">https://github.com/rdmueller/grails-petclinic</a>
which contains two branches (<a href="https://github.com/rdmueller/grails-petclinic/tree/film-strip-plugin-2.2">film-strip-plugin-2.2</a> and <a href="https://github.com/rdmueller/grails-petclinic/tree/film-strip-plugin-2.4">film-strip-plugin-2.4</a>) with
Spock/Geb tests and the film strip plugin installed. See the readme on how to execute the tests.</p>
</div>
</div>
<div class="sect2">
<h3 id="_requirements_overview">1.2. Requirements Overview</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:7%;">
<col style="width:15%;">
<col style="width:76%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="R1"></a>R1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">high</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the system has to produce an easy to navigate visual report
				   containing all screenshots reported by geb</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="R2"></a>R2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the system has to be easy to use. Best would be install and
                   run with some reasonable default configs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="R3"></a>R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the system should be configurable in terms of html output
                   and css style. Some kind of jsp template should be available</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="R4"></a>R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no magic strings. All parameters like output directory should
				   be configurable</p></td>
</tr>
</tbody>
</table>

</div>
<div class="sect2">
<h3 id="_quality_goals">1.3. Quality Goals</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:14%;">
<col style="width:85%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">since tests should run fast, performance is important. Report
				 should be generated in less than 2 seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">modifiability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">every Grails developer should be able to modify the plugin in
				 order to fit his needs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">availability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plugin should be available through central plugin repository
				 and as download</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">once installed, the plugin must not connect to the internet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">testability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">it would be nice if there where automated tests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">usability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">install and run with reasonable default configs. See <a href="#R2">[R2]</a></p></td>
</tr>
</tbody>
</table>

</div>
<div class="sect2">
<h3 id="_stakeholders">1.4. Stakeholders</h3>
<div class="paragraph">
<p>These are the stakeholders I (Ralf D. M체ller) had in mind when I started to code
this plugin and I am open for discussions :-)</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:50%;">
<col style="width:33%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role/Name</th>
<th class="tableblock halign-left valign-top">Goal/Boundaries</th>
<th class="tableblock halign-left valign-top">Expected Participation and Contribution</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wants to proof to BA that her
				 software is covered with
				 automated tests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Need direct feedback from other developers through
						  		   				  issue tracking or direct mail</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business
  Analyst (BA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wants to specify tests in
  				 natural language and wants to
  				 be able to read test reports</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hope for indirect feedback through developers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contractor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wants to proof to client
                 that his software is
                 thourougly tested and uses
                 screenshot to have a proof
                 for the look and feel at a
                 certain point in time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hope for indirect feedback through developers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Designer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wants to see that his design
                 is implemented the right way
                 and may want to compare screens</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hope for indirect feedback through developers</p></td>
</tr>
</tbody>
</table>

<div class="sect3">
<h4 id="_personas">1.4.1. Personas</h4>
<div class="paragraph">
<p>The following section will describe some fictional stakeholders. The intention is
to add some more to the stakeholder description above and to allow you to easily
switch into the role of a stakeholder.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Melanie Schmitt</dt>
<dd>
<p>Melanie works as a freelancer in the role of a <strong>developer</strong>. She is used to write automated tests for her code. She would now like to use the test results as some kind of acceptance report. When she delivers a release, she wants to have a report ready which can be signed of by the customer as soon as he accepts the delivered features.<br>
She also made the experience that sometimes customers report a bug where it is not clear if it is really a bug or works as designed. Through a history of proper test reports with screenshots, she hopes to be able to easily prove that it&#8217;s not a bug but a change the customer has to pay for (because it was this way all the time).<br>
Those two features will help Melanie to be recognized as professional developer and optimize her effort/Value ratio.</p>
</dd>
<dt class="hdlist1">Peter Miller</dt>
<dd>
<p>Peter is a <strong>business analyst</strong> who works together with a team of developers on larger projects. He would like to specify automated tests but has not enough technical background to write test scripts. He also does not like to have a development environment up and running in order to run the tests by himself but he would like to have a good looking report which helps him to check if the tests have been executed in the intended way.<br>
The goal for Peter is to write tests in natural language and hand them over to the developers. They will then turn them into executable tests and generate tests reports for each new release. The reports are handed back to Peter for an acceptance sign-off.</p>
</dd>
<dt class="hdlist1">Henry Ford</dt>
<dd>
<p>Henry is a <strong>developer</strong> who works together with Peter. Henry needs a way to add readable code to the natural language test description (received from Peter) and combine both in a report. When Henry runs his tests, he can watch his web browser execute the tests and he sees if something looks wrong. But he also would like to have those screens as screenshots included in his report. In case that Peter complains about a specific test in the generated report, the report should include enough detail for Henry to figure out what code has been executed for the test in order to easily see what&#8217;s going on.</p>
</dd>
<dt class="hdlist1">Steve Bauer</dt>
<dd>
<p>Steve is a <strong>designer</strong> who needs to make sure that his design guidelines are followed by the developers. He doesn&#8217;t care about the functionality of the application, only the screens. So he needs a report where he can flip through all screens and see if he can find a design flaw.</p>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since this plugin should be available to a wide range of developers, the plugin
should be compatible with a wide range of Grails versions (min. 2.2.4). The currently
not released Grails 3.0 is out of scope but will be in scope as soon
as it is released.</p>
</div>
<div class="paragraph">
<p>Since the plugin should be based on stable and released libraries, 0.7 is the
targeted Version of Spock.</p>
</div>
<div class="paragraph">
<p>The plugin has to work on windows and *nix and it should work with all webdrivers
which take screenshots, but it will only be tested against phantomJs.</p>
</div>
<div class="paragraph">
<p>Since maps are easy to handle in groovy and grails, the generated data model should not
be a complex java object, but a simple map.</p>
</div>
<div class="paragraph">
<p>Whenever the map has to be serialized, JSON should be used as format with pretty print
turned on. This ensures that a developer is able to analyze the raw data.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-system-scope-and-context">3. System Scope and Context</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main scope of the project is to extract a model from the data generated by geb
through the execution of <code>grails run-app functional</code>. In order to visualize the
model, the plugin will also generate some HTML to browse through the data.</p>
</div>
<div class="paragraph">
<p>Currently, data generated by spock is out of scope, but it is planned to take
this in scope for the next iteration.</p>
</div>
<div class="sect2">
<h3 id="_external_interfaces">3.1. External Interfaces</h3>
<div class="paragraph">
<p>Since the plugin should be easy to handle, it should use some automated way to gather the data.</p>
</div>
<div class="paragraph">
<p>In order to do this, the following interfaces to Grails and Geb have been identified:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Event System</dt>
<dd>
<p>The plugin will hook into the reporting events in order to setup the collection of
data (<code>eventTestPhasesStart</code>) and to generate the reports (<code>eventTestProduceReports</code>)</p>
</dd>
<dt class="hdlist1">Geb <a href="http://www.gebish.org/manual/0.9.2/api/geb/report/ReportingListener.html"><code>ReportingListener</code></a></dt>
<dd>
<p>The ReportingListener has been identified as the right interface to Geb. It will
notify the plugin every time the <code>report</code> command has been executed and will provide
the needed data. Currently, no automated way has been identified to add the plugin&#8217;s
own <code>ReportingListener</code> to the <code>gebConfig</code> in an automated way, so the developer has
to add it by herself.</p>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The plugin uses the <code>ReportingListener</code> provided by geb to collect the needed data.
Since geb can only provide an <code>onReport</code>-method, it is hard to collect the data
in memory (there is no event fired by Geb which tells the plugin that all reports
have been collected and data can be persisted). So the solution is to write the
data from these report snapshots to a file as JSON strings.</p>
</div>
<div class="paragraph">
<p>Later, when Grails notifies the plugin that all tests have been executed, the plugin
will read those report snapshots and remove redundant information by generating a
better structured map which is also stored as JSON in another report file (in case
someone else wants to base some functionality on this data).</p>
</div>
<div class="paragraph">
<p>In the next step, the plugin takes the created data structure and feeds it as model
into an HTML-Report-Template. Currently, this "template" is implemented as
<code>xml.MarkupBuilder</code> but it will be soon replaced by a jsp like template which can
be easily provided by the project the plugin is used in.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">5. Design Decisions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_data_collection">5.1. Data Collection</h3>
<div class="sect3">
<h4 id="_problem">5.1.1. Problem</h4>
<div class="paragraph">
<p>In order to create a report, we have to collect the data we want to report on.</p>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_and_solution_decision">5.1.2. Alternatives and Solution/Decision</h4>
<div class="paragraph">
<p>The first version of the FilmStrip-Plugin crawled through the generated screenshots and tried to extract all data from the image name and its path.</p>
</div>
<div class="paragraph">
<p>The current version uses the Geb <a href="http://www.gebish.org/manual/0.9.2/api/geb/report/ReportingListener.html">ReportingListener</a> to collect the data. The ReportListener gets some more information than the one available in the file system like the URL and name of page object.</p>
</div>
<div class="paragraph">
<p>Since there is only an <code>onReport</code> event and no <code>onReportFinished</code> and because of the data provided, the data collection is a two step process:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>extract the needed data from the <code>onReport</code> event</p>
</li>
<li>
<p>transform the result into a better structured map without redundancy</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The data from step one is collected in a JSON formatted report file and read in step two from this file.</p>
</div>
<div class="paragraph">
<p>The number together with the label of the test and report is made available as one String, joined together with dashed (<em>-</em>). So if the labels contain a dash themself, the labels will not be extracted the right way. To solve this, the <code>geb.report.ReporterSupport</code> got monkey patches through meta-programming.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_monkey_patching">5.2. Monkey Patching</h3>
<div class="sect3">
<h4 id="_problem_2">5.2.1. Problem</h4>
<div class="paragraph">
<p>As described in the previous design decision, the plugin uses a monkey patch for <code>geb.report.ReporterSupport</code></p>
</div>
<div class="paragraph">
<p>Monkey patches are considered as bad practice.</p>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_and_solution_decision_2">5.2.2. Alternatives and Solution/Decision</h4>
<div class="paragraph">
<p>One alternative to the monkey patch is to derive a new <code>Spec</code>-class from <code>GebReportingSpec</code> (proposed by Marcin Erdmann - thanx for the idea!).
This would be a clean solution with the drawback that all specs have to be rewritten to use this <code>Spec</code>-class.</p>
</div>
<div class="paragraph">
<p>Currently, the plugin will still use the monkey patch until is causes problems ;-)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fix_for_packages">5.3. Fix for Packages</h3>
<div class="sect3">
<h4 id="_problem_3">5.3.1. Problem</h4>
<div class="paragraph">
<p>The report should link to the HTML test reports in order to show some more details
(link behind the spec name). But the reports are prefixed with a number. If no
packages are used to group the tests, the number is in line with the order of test
execution, but if packages are used, I couldn&#8217;t find out how they are numbered.</p>
</div>
</div>
<div class="sect3">
<h4 id="_alternatives_and_solution_decision_3">5.3.2. Alternatives and Solution/Decision</h4>
<div class="paragraph">
<p>One way to solve this could have been to dive deep down into the report generation
and find out how the files are numbered. The effort would have been to high at the moment.</p>
</div>
<div class="paragraph">
<p>The solution which is now implemented is to crawl through the existing html report files,
find the one with the proper name in the proper folder and extract the prefixed number.
Since the reports are not available when <code>eventTestProduceReports</code> is fired, the code was
moved to the <code>eventTestPhasesEnd</code>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-glossary">6. Glossary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is mainly a glossary for Spock terms and how I do understand their meaning.
Please correct it if I am wrong - RDM</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:14%;">
<col style="width:14%;">
<col style="width:71%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Synonym</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A test specification which groups some tests together</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A spec specifies features which have to be tested.
                               Mostly exchangeable with "test", but some features need
                               more than one test&#8230;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feature Run</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Iteration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When you define a data driven Spock test, each
                               execution is called a feature run</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Snapshot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The geb command to save the current browser page as
                               image and HTML source is called <code>report</code> and hence
                               the created snapshot is often called a report</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report Group</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a report group is a Geb concept. Spock automatically
                               sets the report group to the name of the current
                               Feature/Test and Geb will store all reports
                               in a folder corresponding to this name.</p></td>
</tr>
</tbody>
</table>

<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="bibliography">Appendix A: References</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Geb and the Book of Geb</dt>
<dd>
<p><a href="http://www.gebish.org/">http://www.gebish.org/</a> <a href="http://www.gebish.org/manual/current/">http://www.gebish.org/manual/current/</a></p>
</dd>
<dt class="hdlist1">Geb Plugin</dt>
<dd>
<p><a href="http://grails.org/plugin/geb">http://grails.org/plugin/geb</a></p>
</dd>
<dt class="hdlist1">Spock</dt>
<dd>
<p><a href="http://spockframework.org/">http://spockframework.org/</a></p>
</dd>
<dt class="hdlist1">Spock Plugin</dt>
<dd>
<p><a href="http://grails.org/plugin/spock">http://grails.org/plugin/spock</a></p>
</dd>
<dt class="hdlist1">Pet Clinic Sample Application</dt>
<dd>
<p><a href="https://github.com/grails-samples/grails-petclinic">https://github.com/grails-samples/grails-petclinic</a></p>
</dd>
<dt class="hdlist1">GhostDriver</dt>
<dd>
<p><a href="https://github.com/detro/ghostdriver">https://github.com/detro/ghostdriver</a></p>
</dd>
<dt class="hdlist1">PhantomJS</dt>
<dd>
<p><a href="http://phantomjs.org/">http://phantomjs.org/</a></p>
</dd>
<dt class="hdlist1">arc42</dt>
<dd>
<p><a href="http://arc42.org">http://arc42.org</a> (german) <a href="http://arc42.de/en">http://arc42.de/en</a> (english)</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_similiar_projects">Similiar Projects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, references to other projects like this are collected. So if this
project does not exactly fit your need, maybe one of the other does.</p>
</div>
<div class="sect2">
<h3 id="_canoo_webtest">canoo WebTest</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Grails Plugin</dt>
<dd>
<p><a href="http://grails.org/plugin/webtest">http://grails.org/plugin/webtest</a></p>
</dd>
<dt class="hdlist1">Website</dt>
<dd>
<p><a href="http://webtest.canoo.com/webtest/">http://webtest.canoo.com/webtest/</a></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Canoo WebTest is a great tool for functional tests and it provides the best
reports I know. Screenshots are taken automatically, each time a button or link is
clicked. Those screenshots are available as film strip like the one in this plugin.</p>
</div>
<div class="paragraph">
<p>Unfortunately, it seems to be a bit outdated. It does not work with Spock since it is
a test framework by its own and the Gails Plugin seems not to work with current
versions of Grails</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_reports">Appendix B: Example Reports</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently there is only one example which is based on the Pet Clinic sample application.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="./images/Screenshot.png" alt="Screenshot">
</div>
</div>
<div class="paragraph">
<p>the modified grails pet-clinic project to generate above report can be found at</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/rdmueller/grails-petclinic/tree/film-strip-plugin-2.2">Pet-Clinic (Grails 2.2)</a></p>
</li>
<li>
<p><a href="https://github.com/rdmueller/grails-petclinic/tree/film-strip-plugin-2.4">Pet-Clinic (Grails 2.4)</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_contributors">Appendix C: Contributors</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Marcin Erdmann - thoughts about monkey patch</p>
</li>
<li>
<p>Burth Beckwith - cleanup of plugin code</p>
</li>
<li>
<p>Peter Ledbrook - tipps on how to fix the plugin for grails 2.4.4</p>
</li>
<li>
<p>Tobias Kraft - support for Grails 2.1.*</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contributing">Contributing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contributions are welcome. The quality and form does not matter. If you don&#8217;t have
much time, just drop me a note (ralf.d.mueller at gmail.com) or
<a href="https://github.com/rdmueller/grails-filmStrip/issues">add an issue</a>.</p>
</div>
<div class="paragraph">
<p>If you have more time and want to contribute to the code, just fork the project
and create a pull request when ever you contribution is ready.</p>
</div>
<div class="paragraph">
<p>The easiest way to work on the project is to fork both, this repository and the
film strip fork of the petclinic project. Place them on the same level and the
petclinic project will already be configured to reference the film strip plugin
locally - this avoids having to build the plugin whenever you modify it.</p>
</div>
<div class="paragraph">
<p>Currently, there are no automated tests. So you are also not required to create tests :-).</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Appendix D: Changelog</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:9%;">
<col style="width:90%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Version</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial Version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">support for packages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">support for Grails 2.1</p></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect1">
<h2 id="_open_issues">Open Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to work offline on this project, all open issues are exported to this
document whenever it is updated.
But if you want to open a new issue, just add it to the github issues
located at <a href="https://github.com/rdmueller/grails-filmStrip/issues">https://github.com/rdmueller/grails-filmStrip/issues</a> . The ultimate
goal is to sync these offline issues with the github ones.</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:8%;">
<col style="width:8%;">
<col style="width:83%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">State</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/21">FS-21</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">upload the petclinic report to github.io and add it to the examples section</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/19">FS-19</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create the same functionality as gradle project, later plugin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/18">FS-18</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compare created arc42 documentation with docs of the 10 best plugins</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/16">FS-16</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">It would be nice to find an automated way to add the FileStripReportingListener to the gebConfig</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/15">FS-15</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Want to have a button with which I can flip through all screens</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/13">FS-13</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End-Reports are currently not shown. The intended behaviour is that they are only not shown when the content is the same as of the report before. This can be achieved by comparing the reported HTML</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/10">FS-10</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add some profile "fotos" to each persona. There is this cool avatar genrator which might be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/9">FS-9</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a Demo-Report</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/8">FS-8</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report is also generated if only unit or integration tests are executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/7">FS-7</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">location of the report folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/rdmueller/grails-filmStrip/issues/6">FS-6</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TESTS-TestSuites.xml</p></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-12-31 00:12:07 CET
</div>
</div>
</body>
</html>